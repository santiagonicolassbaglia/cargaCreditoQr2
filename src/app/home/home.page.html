<ion-header>
  <ion-toolbar>
    <ion-title>Acumula Créditos</ion-title>
    <!-- Botón para cerrar sesión -->
    <ion-button slot="end" color="danger" (click)="logout()">Cerrar Sesión</ion-button>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="container">
    <h2>Bienvenido</h2>
    <p>Escanea un código QR para acumular créditos.</p>

    <!-- Muestra los créditos acumulados -->
    <div class="creditos-container">
      <h3>Créditos Acumulados</h3>
      <ion-card class="creditos-card">
        <ion-card-content>
          <h1 id="creditos-acumulados">{{ creditosAcumulados }}</h1>
        </ion-card-content>
      </ion-card>
    </div>

    <!-- Muestra los mensajes -->
    <ion-card *ngIf="mensaje" class="mensaje-card">
      <ion-card-content>
        <p>{{ mensaje }}</p>
      </ion-card-content>
    </ion-card>

    <!-- Botón para escanear QR -->
    <ion-button expand="block" color="primary" (click)="scanQrCode()" class="scan-button">
      Escanear QR
    </ion-button>

    <!-- Botón para limpiar créditos -->
    <ion-button expand="block" color="danger" (click)="showConfirmDialog()" class="limpiar-button">
      Limpiar Créditos
    </ion-button>
  </div>

  <!-- Modal de confirmación para limpiar créditos -->
  <div *ngIf="showConfirm" class="confirm-dialog">
    <div class="confirm-content">
      <h2>¿Estás seguro?</h2>
      <p>Esta acción eliminará todos tus créditos acumulados.</p>
      <div class="button-group">
        <ion-button expand="block" color="danger" (click)="confirmLimpiarCreditos()">Sí, limpiar</ion-button>
        <ion-button expand="block" color="secondary" (click)="closeConfirmDialog()">Cancelar</ion-button>
      </div>
    </div>
  </div>

  <div class="splash-logo" style="height: 2rem; width: 10rem; margin: auto;">
    <img src="../../../../assets/icon/favicon.png" alt="Splash Image" class="animate__animated animate__rotate splash-image"/>
  </div>
</ion-content>
